CREATE TABLE IF NOT EXISTS users (
                                     id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
                                     name VARCHAR(255) NOT NULL,
                                     email VARCHAR(512) NOT NULL,
                                     CONSTRAINT pk_user PRIMARY KEY (id),
                                     CONSTRAINT UQ_USER_EMAIL UNIQUE (email)
);

CREATE TABLE IF NOT EXISTS ITEMS
(
    ID   BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    NAME VARCHAR(255) NOT NULL ,
    DESCRIPTION VARCHAR(512) NOT NULL,
    IS_AVAILABLE BOOLEAN NOT NULL,
    OWNER_ID INT NOT NULL REFERENCES USERS(ID)
);

CREATE TABLE IF NOT EXISTS BOOKINGS
(
    ID   BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    START_DATE DATE NOT NULL ,
    END_DATE DATE NOT NULL,
    ITEM_ID INT NOT NULL REFERENCES ITEMS(ID),
    BOOKER_ID INT NOT NULL REFERENCES USERS(ID),
    STATUS VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS REQUESTS
(
    ID   BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    DESCRIPTION VARCHAR (512) NOT NULL,
    REQUESTER_ID INT NOT NULL REFERENCES USERS(ID),
    DATE_CREATE DATE NOT NULL
);

CREATE TABLE IF NOT EXISTS COMMENTS
(
    ID   BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    TEXT VARCHAR (255) NOT NULL,
    ITEM_ID INT NOT NULL REFERENCES ITEMS(ID),
    AUTHOR_ID INT NOT NULL REFERENCES USERS(ID)
);